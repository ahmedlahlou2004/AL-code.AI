import React, { useState, useEffect } from 'react';
import Editor from '@monaco-editor/react';

function App() {
  const [code, setCode] = useState(`# Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ Ø¨Ø§ÙŠØ«ÙˆÙ† Ù‡Ù†Ø§\nprint("Ù…Ø±Ø­Ø¨Ù‹Ø§ ÙŠØ§ Ù…Ø¯!")`);
  const [output, setOutput] = useState('');
  const [pyodide, setPyodide] = useState(null);

  useEffect(() => {
    const loadPyodide = async () => {
      const pyodideInstance = await window.loadPyodide({
        indexURL: "https://cdn.jsdelivr.net/pyodide/v0.23.4/full/",
      });
      setPyodide(pyodideInstance);
    };
    loadPyodide();
  }, []);

  const runCode = async () => {
    if (!pyodide) {
      setOutput("Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Pyodide...");
      return;
    }
    try {
      const result = await pyodide.runPythonAsync(code);
      setOutput(result.toString());
    } catch (err) {
      setOutput(err.toString());
    }
  };

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial' }}>
      <h1>ğŸ”· Ù…Ø­Ø±Ø± Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ø¨Ø§Ø´Ø±</h1>
      <Editor
        height="300px"
        defaultLanguage="python"
        value={code}
        onChange={(value) => setCode(value)}
        theme="vs-dark"
      />
      <button onClick={runCode} style={{ marginTop: '10px', padding: '10px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '5px' }}>
        ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ â–¶ï¸
      </button>
      <div style={{ marginTop: '20px', background: '#f0f0f0', padding: '10px', borderRadius: '5px' }}>
        <h2>ğŸ“¤ Ø§Ù„Ù†Ø§ØªØ¬:</h2>
        <pre>{output}</pre>
      </div>
    </div>
  );
}

export default App;
